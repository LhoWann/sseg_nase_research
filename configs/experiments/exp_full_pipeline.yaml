experiment_name: sseg_nase_full_pipeline
seed: 42
debug_mode: false

hardware:
  name: default_gpu

curriculum:
  image_size: 84
  transition_strategy: gradual
  gradual_mixing_ratio: 0.2
  level_specs:
    basic:
      num_samples: 5000
    texture:
      num_samples: 10000
    object:
      num_samples: 20000
    adversarial:
      num_samples: 10000
    real_mix:
      num_samples: 38400

evolution:
  seed_network:
    architecture: cnn
    initial_channels: 32
    initial_blocks: 3
    kernel_size: 3
    activation: relu
    dropout: 0.1
  growth:
    max_blocks: 8
    max_channels: 512
    channel_expansion_ratio: 1.25
    plateau_window_size: 5
    plateau_threshold: 0.05
    distillation_gap_threshold: 0.30
    sensitivity_method: taylor
    post_evolution_warmup_epochs: 3
    post_evolution_lr_scale: 0.1
    freeze_old_layers_epochs: 2
  nase:
    sparsity_ratio: 0.4
    pruning_interval_epochs: 5
    importance_metric: taylor
    min_channels_per_layer: 64
    use_complementary_masks: true
    negative_scale: 0.1
  fitness:
    alpha_complexity_penalty: 0.0001
    target_flops_giga: 10.0
    target_params_million: 50.0

ssl:
  augmentation:
    crop_scale_min: 0.2
    crop_scale_max: 1.0
    horizontal_flip_prob: 0.5
    color_jitter_strength: 0.4
    grayscale_prob: 0.2
    gaussian_blur_prob: 0.5
  contrastive:
    temperature: 0.07
    loss_type: ntxent
    normalize_features: true
  rotation:
    enabled: true
    weight: 0.5
  distillation:
    ema_decay: 0.996
    distillation_weight: 1.0
    distillation_loss: cosine
    update_interval: 1
  projection:
    hidden_dim: 1024
    output_dim: 256
    num_layers: 3
    use_batch_norm: true
    dropout: 0.1

training:
  batch_size: 64
  learning_rate: 0.0003
  weight_decay: 0.0001
  optimizer: adamw
  scheduler: cosine
  warmup_epochs: 3
  min_lr: 0.00001
  dropout: 0.1
  early_stopping_patience: 15

evaluation:
  few_shot:
    num_ways: 5
    num_shots: [1, 5]
    num_queries_per_class: 15
    num_episodes: 600
    distance_metric: cosine
    normalize_features: true
  metrics:
    confidence_level: 0.95
    compute_per_class_accuracy: true
    save_predictions: false
  datasets:
    - name: minimagenet
      root_dir: ./datasets/minimagenet
      split: test
    - name: cifar_fs
      root_dir: ./datasets/cifar_fs
      split: test
  adaptation_method: finetune
  adaptation_steps: 10
  adaptation_lr: 0.05
  use_ttt: false
  ttt_steps: 5
  ttt_lr: 0.001
  classifier_type: cosine
